#!/usr/bin/env python3
# -*- coding: utf-8 -*-

import json
from collections import Counter
from pathlib import Path


OUTPUT_PATH = Path(__file__).resolve().parents[1] / "src" / "data" / "questions" / "technology.json"


def make(question: str, answer: str, subtopic: str, difficulty: str) -> dict:
    return {
        "question": question.strip(),
        "answer": answer.strip(),
        "subtopic": subtopic,
        "difficulty": difficulty,
    }


def round_robin(*topic_lists: list[dict]) -> list[dict]:
    mixed: list[dict] = []
    pointers = [0] * len(topic_lists)

    while True:
        progressed = False
        for i, topic_items in enumerate(topic_lists):
            if pointers[i] < len(topic_items):
                mixed.append(topic_items[pointers[i]])
                pointers[i] += 1
                progressed = True
        if not progressed:
            break

    return mixed


AI = "ذكاء اصطناعي"
SOCIAL = "سوشيال ميديا"
DEVICES = "أجهزة"
INTERNET = "إنترنت وشبكات"
SECURITY = "أمان رقمي"
APPS = "تطبيقات وخدمات"
CULTURE = "ثقافة تقنية"


ai_questions = [
    make("هل الذكاء الاصطناعي يفكر مثل الإنسان؟", "لا، هو يتنبأ بالنص الأقرب بناءً على البيانات والأنماط.", AI, "سهل"),
    make("هل يمكن الاعتماد على إجابة الذكاء الاصطناعي بدون مراجعة؟", "لا، يجب التحقق قبل الاعتماد.", AI, "سهل"),
    make("هل يفيد الذكاء الاصطناعي في تلخيص درس طويل؟", "نعم، مع مراجعة الملخص.", AI, "سهل"),
    make("هل من الآمن إدخال كلمات المرور داخل أدوات الذكاء الاصطناعي؟", "لا.", AI, "سهل"),
    make("هل يمكن أن يعطي الذكاء الاصطناعي إجابة مقنعة لكنها خاطئة؟", "نعم.", AI, "سهل"),
    make("هل استخدام الذكاء الاصطناعي في الدراسة يعني نسخ الإجابة كما هي؟", "لا، يُستخدم للفهم والتدريب.", AI, "سهل"),
    make("ما أفضل طريقة لكتابة سؤال للذكاء الاصطناعي؟", "سؤال واضح ومحدد فيه الهدف والسياق.", AI, "متوسط"),
    make("ما معنى هلوسة الذكاء الاصطناعي؟", "معلومة تبدو صحيحة لكنها غير دقيقة.", AI, "متوسط"),
    make("عند الحصول على معلومة حساسة من الذكاء الاصطناعي، ما الخطوة الصحيحة؟", "مراجعتها في مصدر رسمي موثوق.", AI, "متوسط"),
    make("لماذا يظل الإشراف البشري ضروريًا مع الذكاء الاصطناعي في 2026؟", "لأن المسؤولية والفهم الأخلاقي والسياق على الإنسان.", AI, "صعب"),
]


social_questions = [
    make("هل عدد الإعجابات دليل قاطع على صحة الخبر؟", "لا.", SOCIAL, "سهل"),
    make("هل قراءة العنوان فقط تكفي قبل مشاركة منشور؟", "لا.", SOCIAL, "سهل"),
    make("هل مراجعة تاريخ النشر مهمة قبل إعادة مشاركة خبر؟", "نعم.", SOCIAL, "سهل"),
    make("هل الحساب الموثق يعني أن كل منشوراته صحيحة؟", "لا.", SOCIAL, "سهل"),
    make("هل يمكن لصورة قديمة أن تُنشر كأنها خبر جديد؟", "نعم.", SOCIAL, "سهل"),
    make("هل مشاركة موقعك المباشر بشكل دائم آمنة؟", "لا.", SOCIAL, "سهل"),
    make("هل جعل الحساب خاصًا مفيدًا لو المحتوى شخصي؟", "نعم.", SOCIAL, "سهل"),
    make("هل إضافة أشخاص مجهولين دائمًا خطوة آمنة؟", "لا.", SOCIAL, "سهل"),
    make("هل يمكنك الإبلاغ عن حساب مزيف من داخل المنصة؟", "نعم.", SOCIAL, "سهل"),
    make("هل نشر رقم هاتفك علنًا على الحساب فكرة جيدة؟", "لا.", SOCIAL, "سهل"),
    make("هل حذف منشور يعني اختفاءه نهائيًا من الإنترنت؟", "لا، قد تبقى منه نسخ.", SOCIAL, "سهل"),
    make("هل الضغط على أي رابط داخل التعليقات آمن؟", "لا.", SOCIAL, "سهل"),
    make("هل كل ترند مناسب للمشاركة؟", "لا.", SOCIAL, "سهل"),
    make("هل تحديد وقت يومي للسوشيال ميديا يساعد على التركيز؟", "نعم.", SOCIAL, "سهل"),
    make("هل المقاطع القصيرة قد تستهلك وقتًا كبيرًا بدون ملاحظة؟", "نعم.", SOCIAL, "سهل"),
    make("هل نشر صور شخص آخر بدون إذنه تصرف صحيح؟", "لا.", SOCIAL, "سهل"),
    make("هل يمكن انتحال شخصية شخص معروف على السوشيال ميديا؟", "نعم.", SOCIAL, "سهل"),
    make("هل يجب الحذر من التعليقات التي تحتوي روابط غريبة؟", "نعم.", SOCIAL, "سهل"),
    make("هل كل مسابقة على السوشيال ميديا حقيقية؟", "لا.", SOCIAL, "سهل"),
    make("هل تقترح الخوارزميات محتوى مشابهًا لما تتفاعل معه؟", "نعم.", SOCIAL, "سهل"),
    make("هل جودة الفيديو العالية دليل أن المحتوى حقيقي 100%؟", "لا.", SOCIAL, "سهل"),
    make("هل يفضل مراجعة إعدادات الخصوصية كل فترة؟", "نعم.", SOCIAL, "سهل"),
    make("هل توجد حسابات روبوتية تنشر تعليقات تلقائية؟", "نعم.", SOCIAL, "سهل"),
    make("هل مشاركة خبر أثناء الغضب خطوة جيدة؟", "لا.", SOCIAL, "سهل"),
    make("ما معنى Clickbait في السوشيال ميديا؟", "عنوان مبالغ فيه لجذب النقرات.", SOCIAL, "متوسط"),
    make("ما المقصود بفقاعة الترشيح؟", "عرض محتوى يشبه اهتماماتك فقط فيقل التنوع.", SOCIAL, "متوسط"),
    make("كيف تفرق بين الخبر والرأي؟", "الخبر يعتمد مصادر ووقائع، والرأي وجهة نظر.", SOCIAL, "متوسط"),
    make("ما فائدة البحث العكسي عن الصور؟", "معرفة مصدر الصورة وهل استُخدمت خارج سياقها.", SOCIAL, "متوسط"),
    make("ما معنى منشور برعاية؟", "محتوى إعلاني مدفوع.", SOCIAL, "متوسط"),
    make("لماذا يفضل الوصول إلى المصدر الأول للخبر؟", "لتقليل نقل المعلومات المحرفة.", SOCIAL, "متوسط"),
    make("ما علامة شائعة للحساب المزيف؟", "اسم مشابه لحساب معروف مع سلوك غير طبيعي.", SOCIAL, "متوسط"),
    make("ما التصرف الصحيح عند مشاهدة فيديو مستفز جدًا؟", "التوقف قبل المشاركة والتحقق من المصدر.", SOCIAL, "متوسط"),
    make("ما الفرق بين الصفحة الرسمية وصفحة المعجبين؟", "الرسمية تمثل الجهة مباشرة، والمعجبين ليست مصدرًا رسميًا.", SOCIAL, "متوسط"),
    make("لماذا المقارنة بين مصدرين أفضل من الاعتماد على مصدر واحد؟", "لتقليل الخطأ والتضليل.", SOCIAL, "متوسط"),
    make("ما المقصود بالتفاعل الوهمي؟", "إعجابات أو تعليقات غير حقيقية لرفع الانتشار.", SOCIAL, "متوسط"),
    make("لماذا مهم مراجعة تاريخ إنشاء الحساب قبل الثقة به؟", "لأن الحسابات الجديدة جدًا قد تكون مؤقتة أو مزيفة.", SOCIAL, "متوسط"),
    make("كيف تؤثر الحملات المنسقة على الرأي العام؟", "قد تصنع انطباعًا زائفًا بوجود إجماع.", SOCIAL, "صعب"),
    make("لماذا تدفع بعض الخوارزميات المحتوى الانفعالي أكثر؟", "لأنه يجذب تفاعلًا أعلى في وقت قصير.", SOCIAL, "صعب"),
    make("كيف نوازن بين حرية التعبير ومنع المحتوى المؤذي؟", "بقواعد واضحة وتطبيق عادل مع مراجعة البلاغات.", SOCIAL, "صعب"),
    make("ما أسرع تقييم أولي لمصداقية حساب جديد؟", "فحص المصدر، التاريخ، الاتساق، والتوثيق الخارجي.", SOCIAL, "صعب"),
]


device_questions = [
    make("ما وظيفة الذاكرة RAM بشكل مبسط؟", "تشغيل التطبيقات بسرعة أثناء العمل.", DEVICES, "سهل"),
    make("هل زيادة مساحة التخزين ترفع قوة المعالج مباشرة؟", "لا.", DEVICES, "سهل"),
    make("هل أقراص SSD أسرع غالبًا من HDD؟", "نعم.", DEVICES, "سهل"),
    make("هل إعادة تشغيل الهاتف قد تحل بطئًا مفاجئًا؟", "نعم.", DEVICES, "سهل"),
    make("هل امتلاء الذاكرة التخزينية يبطئ الجهاز؟", "نعم.", DEVICES, "سهل"),
    make("هل الحرارة العالية تؤذي البطارية؟", "نعم.", DEVICES, "سهل"),
    make("هل استخدام شاحن موثوق مهم لعمر البطارية؟", "نعم.", DEVICES, "سهل"),
    make("هل ترك الهاتف في الشمس فترة طويلة آمن؟", "لا.", DEVICES, "سهل"),
    make("هل كسر الشاشة قد يؤثر على استجابة اللمس؟", "نعم.", DEVICES, "سهل"),
    make("هل تنظيف منفذ الشحن بعنف خطوة صحيحة؟", "لا.", DEVICES, "سهل"),
    make("هل وضع توفير الطاقة قد يقلل الأداء أحيانًا؟", "نعم.", DEVICES, "سهل"),
    make("هل التحديثات قد تحسن استقرار الجهاز؟", "نعم.", DEVICES, "سهل"),
    make("هل تشغيل تطبيقات كثيرة بالخلفية يستهلك بطارية أكثر؟", "نعم.", DEVICES, "سهل"),
    make("هل إيقاف البلوتوث عند عدم الاستخدام يوفر بطارية؟", "نعم.", DEVICES, "سهل"),
    make("هل تقليل سطوع الشاشة يساعد على توفير البطارية؟", "نعم.", DEVICES, "سهل"),
    make("هل كل كابل شحن سريع مناسب لكل الأجهزة؟", "لا.", DEVICES, "سهل"),
    make("هل السماعات اللاسلكية قد تحتاج تحديث برنامج داخلي؟", "نعم.", DEVICES, "سهل"),
    make("هل إعادة ضبط المصنع تمسح بيانات الجهاز؟", "نعم.", DEVICES, "سهل"),
    make("هل بطاقات الذاكرة البطيئة قد تؤثر على الأداء؟", "نعم.", DEVICES, "سهل"),
    make("هل وجود تطبيقات كثيرة غير مستخدمة يستهلك مساحة؟", "نعم.", DEVICES, "سهل"),
    make("هل تنظيف الكمبيوتر المكتبي من الغبار مهم؟", "نعم.", DEVICES, "سهل"),
    make("هل يمكن توصيل شاشة خارجية ببعض اللابتوبات؟", "نعم.", DEVICES, "سهل"),
    make("هل انسكاب الماء على لوحة المفاتيح قد يسبب أعطالًا؟", "نعم.", DEVICES, "سهل"),
    make("هل إبقاء الجهاز على الشاحن طول الليل كل يوم بدون حاجة هو الأفضل دائمًا؟", "لا.", DEVICES, "سهل"),
    make("ما الفرق بين RAM والذاكرة الداخلية؟", "RAM للتشغيل المؤقت، والداخلية لحفظ الملفات والتطبيقات.", DEVICES, "متوسط"),
    make("ما الوظيفة الأساسية للمعالج CPU؟", "تنفيذ أوامر الجهاز وتشغيل المهام.", DEVICES, "متوسط"),
    make("ما الفائدة العملية من SSD في اللابتوب؟", "إقلاع أسرع وفتح تطبيقات بسرعة أعلى.", DEVICES, "متوسط"),
    make("متى تكون إعادة ضبط المصنع خيارًا مناسبًا؟", "عند مشاكل مزمنة بعد أخذ نسخة احتياطية.", DEVICES, "متوسط"),
    make("ما علامة شائعة على ضعف البطارية؟", "نزول سريع في الشحن أو انطفاء مفاجئ.", DEVICES, "متوسط"),
    make("لماذا يفضَّل ترك مساحة فارغة في الهاتف؟", "لتحسين الأداء وتحديث التطبيقات.", DEVICES, "متوسط"),
    make("ما الفرق بين دقة الشاشة ومعدل التحديث؟", "الدقة لحدة الصورة، ومعدل التحديث لسلاسة الحركة.", DEVICES, "متوسط"),
    make("لماذا ترتفع حرارة الهاتف أثناء الألعاب الثقيلة؟", "بسبب ضغط المعالج وكرت الرسوم.", DEVICES, "متوسط"),
    make("ما فائدة وضع الطيران أحيانًا أثناء ضعف الشبكة؟", "يقلل استنزاف البحث المستمر عن الشبكة.", DEVICES, "متوسط"),
    make("كيف تتأكد أن بطء الجهاز من التطبيقات وليس من العتاد؟", "تشغيله بوضع نظيف ومراقبة الأداء قبل وبعد.", DEVICES, "متوسط"),
    make("ما سبب بطء الكمبيوتر عند بدء التشغيل غالبًا؟", "برامج بدء كثيرة أو مساحة ممتلئة.", DEVICES, "متوسط"),
    make("لماذا النسخة الاحتياطية قبل الصيانة مهمة؟", "لمنع فقدان البيانات.", DEVICES, "متوسط"),
    make("كيف تختار هاتفًا مناسبًا بدون الانبهار بالأرقام فقط؟", "تحدد استخدامك اليومي ثم توازن بين الأداء والبطارية والسعر.", DEVICES, "صعب"),
    make("متى يكون تغيير البطارية أفضل من تغيير الهاتف؟", "عندما باقي الجهاز جيد والمشكلة الأساسية في البطارية.", DEVICES, "صعب"),
    make("كيف تفرق بين مشكلة هاردوير ومشكلة سوفتوير بشكل مبدئي؟", "إذا استمرت المشكلة بعد إعادة النظام فغالبًا هاردوير.", DEVICES, "صعب"),
    make("ما التوازن الأفضل بين الأداء وعمر البطارية في الاستخدام اليومي؟", "إعدادات متوسطة مع إغلاق ما لا تحتاجه.", DEVICES, "صعب"),
]


internet_questions = [
    make("ما هو المتصفح؟", "برنامج لفتح مواقع الويب.", INTERNET, "سهل"),
    make("هل Google يعتبر متصفحًا؟", "لا، هو محرك بحث.", INTERNET, "سهل"),
    make("هل المتصفح هو نفسه الإنترنت؟", "لا.", INTERNET, "سهل"),
    make("ما معنى Download؟", "نقل ملف من الإنترنت إلى جهازك.", INTERNET, "سهل"),
    make("ما معنى Upload؟", "رفع ملف من جهازك إلى الإنترنت.", INTERNET, "سهل"),
    make("هل سرعة الرفع مهمة في مكالمات الفيديو؟", "نعم.", INTERNET, "سهل"),
    make("هل الراوتر يوزع الإنترنت في المنزل؟", "نعم.", INTERNET, "سهل"),
    make("هل القرب من الراوتر يؤثر على قوة الإشارة؟", "نعم.", INTERNET, "سهل"),
    make("هل الجدران السميكة قد تضعف إشارة الواي فاي؟", "نعم.", INTERNET, "سهل"),
    make("هل إعادة تشغيل الراوتر قد تحل مشاكل الاتصال أحيانًا؟", "نعم.", INTERNET, "سهل"),
    make("هل كلمة مرور الواي فاي ضرورية؟", "نعم.", INTERNET, "سهل"),
    make("هل فتح شبكة الواي فاي بدون كلمة مرور آمن؟", "لا.", INTERNET, "سهل"),
    make("هل وضع الراوتر في مكان مرتفع يحسن التغطية غالبًا؟", "نعم.", INTERNET, "سهل"),
    make("هل زيادة عدد الأجهزة المتصلة قد تقلل السرعة؟", "نعم.", INTERNET, "سهل"),
    make("هل أضواء الراوتر تساعد على معرفة حالته؟", "نعم.", INTERNET, "سهل"),
    make("هل تشغيل نقطة اتصال من الهاتف يستهلك بطارية عالية؟", "نعم.", INTERNET, "سهل"),
    make("هل نطاق 5GHz أسرع غالبًا من 2.4GHz؟", "نعم.", INTERNET, "سهل"),
    make("هل 2.4GHz يغطي مسافة أكبر غالبًا؟", "نعم.", INTERNET, "سهل"),
    make("هل انقطاع الإنترنت يعني دائمًا مشكلة من جهازك؟", "لا.", INTERNET, "سهل"),
    make("هل يمكن قياس سرعة الإنترنت بتطبيقات مخصصة؟", "نعم.", INTERNET, "سهل"),
    make("هل اسم الموقع Domain يختلف عن الرابط الكامل URL؟", "نعم.", INTERNET, "سهل"),
    make("ما الفرق بين URL وDomain؟", "Domain اسم الموقع، وURL هو العنوان الكامل للصفحة.", INTERNET, "متوسط"),
    make("ما فائدة HTTPS عند تصفح المواقع؟", "تشفير الاتصال وحماية البيانات أثناء النقل.", INTERNET, "متوسط"),
    make("ما وظيفة DNS بشكل مبسط؟", "تحويل اسم الموقع إلى عنوان رقمي يفهمه الشبك.", INTERNET, "متوسط"),
    make("ما المقصود بالـ Cache في المتصفح؟", "ملفات مؤقتة لتسريع فتح الصفحات.", INTERNET, "متوسط"),
    make("متى تحتاج مسح Cache المتصفح؟", "عند مشاكل تحميل أو ظهور نسخة قديمة من الصفحة.", INTERNET, "متوسط"),
    make("ما الفرق بين Wi-Fi وبيانات الهاتف؟", "Wi-Fi عبر راوتر ثابت، والبيانات عبر شبكة شركة المحمول.", INTERNET, "متوسط"),
    make("لماذا يفضل إبعاد الراوتر عن المعدن والأجهزة الثقيلة؟", "لتقليل التداخل وتحسين الإشارة.", INTERNET, "متوسط"),
    make("ما المقصود بالنسخ السحابي؟", "تخزين ملفاتك على الإنترنت للوصول من أجهزة مختلفة.", INTERNET, "متوسط"),
    make("لماذا اختبار السرعة وقت الذروة مهم؟", "لأنه يعكس الأداء الحقيقي وقت الاستخدام العالي.", INTERNET, "متوسط"),
    make("ما الفرق بين البث المباشر والتنزيل الكامل للفيديو؟", "البث يشغل أثناء التحميل، والتنزيل يحفظ الملف كاملًا.", INTERNET, "متوسط"),
    make("إذا صفحة لا تفتح والإنترنت يعمل، ما أول خطوة؟", "تجربة متصفح آخر أو مسح الكاش وإعادة التحميل.", INTERNET, "متوسط"),
    make("كيف تحدد أن المشكلة من مزود الخدمة وليست من شبكتك المنزلية؟", "بمقارنة أجهزة متعددة والتحقق من حالة الخدمة أو التواصل الرسمي.", INTERNET, "صعب"),
    make("ما خطة مختصرة لتحسين تغطية الواي فاي في بيت كبير؟", "مكان مركزي للراوتر مع مقويات شبكة عند الحاجة.", INTERNET, "صعب"),
    make("لماذا لا يكفي رقم السرعة المعلن للحكم على جودة الإنترنت؟", "لأن الثبات وزمن الاستجابة والتغطية تؤثر أيضًا.", INTERNET, "صعب"),
]


security_questions = [
    make("هل استخدام نفس كلمة المرور لكل الحسابات آمن؟", "لا.", SECURITY, "سهل"),
    make("هل المصادقة الثنائية مهمة للحسابات؟", "نعم.", SECURITY, "سهل"),
    make("هل مشاركة كود التحقق OTP مع أي شخص آمنة؟", "لا.", SECURITY, "سهل"),
    make("هل رسالة عاجلة تطلب بياناتك قد تكون تصيدًا؟", "نعم.", SECURITY, "سهل"),
    make("هل تحديث النظام يقلل الثغرات الأمنية؟", "نعم.", SECURITY, "سهل"),
    make("هل قفل الشاشة برمز أو بصمة ضروري؟", "نعم.", SECURITY, "سهل"),
    make("هل ترك الهاتف مفتوحًا بلا قفل في مكان عام آمن؟", "لا.", SECURITY, "سهل"),
    make("هل النسخ الاحتياطي الدوري مهم للأمان؟", "نعم.", SECURITY, "سهل"),
    make("هل تنزيل التطبيقات من متجر رسمي أفضل؟", "نعم.", SECURITY, "سهل"),
    make("هل فتح مرفق مجهول في البريد الإلكتروني آمن؟", "لا.", SECURITY, "سهل"),
    make("هل تسجيل الخروج من الأجهزة العامة خطوة مهمة؟", "نعم.", SECURITY, "سهل"),
    make("هل كلمة المرور القصيرة جدًا قوية؟", "لا.", SECURITY, "سهل"),
    make("هل مدير كلمات المرور مفيد لمعظم المستخدمين؟", "نعم.", SECURITY, "سهل"),
    make("هل إرسال صورة بطاقة شخصية لجهة غير موثوقة آمن؟", "لا.", SECURITY, "سهل"),
    make("هل شبكات Wi-Fi العامة مناسبة للدفع البنكي؟", "لا.", SECURITY, "سهل"),
    make("هل الروابط المختصرة قد تخفي مواقع ضارة؟", "نعم.", SECURITY, "سهل"),
    make("هل تفعيل العثور على جهازي مفيد؟", "نعم.", SECURITY, "سهل"),
    make("هل مسح بيانات الهاتف قبل بيعه ضروري؟", "نعم.", SECURITY, "سهل"),
    make("هل إعطاء كل التطبيقات صلاحية المايك خطوة صحيحة؟", "لا.", SECURITY, "سهل"),
    make("هل مراجعة الأجهزة المسجل دخولها في الحساب مفيدة؟", "نعم.", SECURITY, "سهل"),
    make("هل رمز QR مجهول يمكن أن يقودك لصفحة احتيال؟", "نعم.", SECURITY, "سهل"),
    make("ما المقصود بالتصيد الإلكتروني؟", "خداع المستخدم لسرقة بياناته عبر رسائل أو مواقع مزيفة.", SECURITY, "متوسط"),
    make("ما العلامة الأولى لرابط مزيف؟", "عنوان غريب أو أحرف تشبه الأصل مع اختلاف بسيط.", SECURITY, "متوسط"),
    make("ماذا تفعل إذا وصلك كود تحقق وأنت لم تطلبه؟", "لا تشاركه وغيّر كلمة المرور فورًا.", SECURITY, "متوسط"),
    make("ما فائدة تنبيهات تسجيل الدخول؟", "تكشف الدخول غير الطبيعي بسرعة.", SECURITY, "متوسط"),
    make("ما الفرق بين حذف ملف وحذفه نهائيًا من السحابة؟", "الحذف النهائي يمنع استرجاعه من سلة المحذوفات.", SECURITY, "متوسط"),
    make("لماذا البريد الإلكتروني الأساسي أخطر حساب عند الاختراق؟", "لأنه مفتاح استرجاع معظم الحسابات.", SECURITY, "متوسط"),
    make("ما معنى مبدأ أقل صلاحية للتطبيقات؟", "تعطي التطبيق أقل وصول يحتاجه فقط.", SECURITY, "متوسط"),
    make("كيف تختار كلمة مرور قوية وسهلة التذكر؟", "جملة طويلة مع رموز وأرقام غير متوقعة.", SECURITY, "متوسط"),
    make("ما أول خطوة بعد الشك في اختراق حساب؟", "تغيير كلمة المرور فورًا.", SECURITY, "متوسط"),
    make("هل VPN وحده يحل كل مشاكل الأمان؟", "لا، هو أداة إضافية وليس حماية كاملة.", SECURITY, "متوسط"),
    make("لماذا يجب تحديث الراوتر نفسه وليس الهاتف فقط؟", "لإغلاق ثغرات الشبكة المنزلية.", SECURITY, "متوسط"),
    make("كيف تبني خطة سريعة للاستجابة لاختراق حساب؟", "تغيير كلمة المرور، تسجيل خروج كل الأجهزة، وتفعيل 2FA.", SECURITY, "صعب"),
    make("لماذا الهندسة الاجتماعية أخطر أحيانًا من الهجمات التقنية؟", "لأنها تستغل ثقة الإنسان مباشرة.", SECURITY, "صعب"),
    make("كيف توازن بين الراحة والأمان في الاستخدام اليومي؟", "إعدادات بسيطة لكن ثابتة: كلمات قوية، 2FA، ومراجعة دورية.", SECURITY, "صعب"),
]


apps_questions = [
    make("هل التقويم الرقمي يساعد في تنظيم المواعيد؟", "نعم.", APPS, "سهل"),
    make("هل تطبيق الملاحظات مفيد للمذاكرة؟", "نعم.", APPS, "سهل"),
    make("هل مشاركة ملف كبير عبر رابط سحابي أسهل غالبًا؟", "نعم.", APPS, "سهل"),
    make("هل تحديد صلاحية عرض أو تعديل مهم قبل مشاركة الملف؟", "نعم.", APPS, "سهل"),
    make("هل تطبيق الخرائط يساعد في اختيار أسرع طريق؟", "نعم.", APPS, "سهل"),
    make("هل وضع عدم الإزعاج مفيد أثناء المذاكرة؟", "نعم.", APPS, "سهل"),
    make("هل المزامنة تسمح بفتح نفس الملف من أكثر من جهاز؟", "نعم.", APPS, "سهل"),
    make("هل حذف الملفات المكررة يوفر مساحة؟", "نعم.", APPS, "سهل"),
    make("هل يمكن استرجاع ملف من سلة المحذوفات في بعض الخدمات؟", "نعم.", APPS, "سهل"),
    make("هل القوالب الجاهزة توفر وقتًا في المهام المتكررة؟", "نعم.", APPS, "سهل"),
    make("هل المكالمات المرئية تحتاج اتصالًا مستقرًا؟", "نعم.", APPS, "سهل"),
    make("هل تسجيل الاجتماع يساعد على مراجعة النقاط لاحقًا؟", "نعم، مع إبلاغ المشاركين.", APPS, "سهل"),
    make("هل تحويل المستند إلى PDF قبل الطباعة مفيد؟", "نعم.", APPS, "سهل"),
    make("هل تسمية الملفات بأسماء واضحة تسهل البحث؟", "نعم.", APPS, "سهل"),
    make("هل البحث داخل البريد الإلكتروني يوفر وقتًا؟", "نعم.", APPS, "سهل"),
    make("هل تدعم بعض التطبيقات جدولة إرسال الرسائل؟", "نعم.", APPS, "سهل"),
    make("هل مشاركة الموقع لحظيًا أثناء السفر قد تكون مفيدة؟", "نعم.", APPS, "سهل"),
    make("هل متابعة وقت الشاشة تساعد في تنظيم اليوم؟", "نعم.", APPS, "سهل"),
    make("ما الفرق بين الرابط العام والرابط المقيد؟", "العام متاح لأي شخص، والمقيد يحتاج صلاحية.", APPS, "متوسط"),
    make("متى تستخدم PDF بدل ملف قابل للتعديل؟", "عند مشاركة نسخة نهائية لا تريد تعديلها.", APPS, "متوسط"),
    make("كيف تمنع تضارب نسخ الملف في العمل الجماعي؟", "استخدم ملفًا سحابيًا واحدًا وصلاحيات واضحة.", APPS, "متوسط"),
    make("لماذا إدارة الإشعارات مهارة إنتاجية؟", "لأنها تقلل التشتيت وتحسن التركيز.", APPS, "متوسط"),
    make("ما فائدة النسخ التلقائي للصور والملفات؟", "استرجاعها بسهولة عند فقدان الجهاز.", APPS, "متوسط"),
    make("كيف تختار تطبيقًا مناسبًا قبل تثبيته؟", "تفحص المطور والتقييمات والأذونات والخصوصية.", APPS, "متوسط"),
    make("ما معنى الاشتراك الشهري داخل التطبيق؟", "رسوم دورية للوصول إلى ميزات إضافية.", APPS, "متوسط"),
    make("ما أفضل طريقة لتنظيم ملفات الدراسة على السحابة؟", "مجلدات حسب المادة والتاريخ مع أسماء واضحة.", APPS, "متوسط"),
    make("لماذا يفضل اختبار التطبيق لفترة قصيرة قبل الاعتماد الكامل؟", "للتأكد من ملاءمته وجودته الفعلية.", APPS, "متوسط"),
    make("كيف تبني نظامًا رقميًا بسيطًا للمذاكرة طوال الفصل؟", "خطة أسبوعية + ملاحظات منظمة + مراجعة دورية.", APPS, "صعب"),
    make("ما مخاطر الاعتماد على تطبيق واحد لكل ملفاتك؟", "فقدان الوصول عند تعطل الحساب أو الخدمة.", APPS, "صعب"),
    make("كيف توازن بين الراحة الرقمية والخصوصية في التطبيقات؟", "تستخدم الضروري فقط وتضبط الأذونات بعناية.", APPS, "صعب"),
]


culture_questions = [
    make("ما المقصود بالبصمة الرقمية؟", "الأثر الذي تتركه أنشطتك على الإنترنت.", CULTURE, "سهل"),
    make("هل كل ما تنشره قد يبقى متاحًا لفترة طويلة؟", "نعم.", CULTURE, "سهل"),
    make("هل إعادة تدوير الأجهزة القديمة مفيدة للبيئة؟", "نعم.", CULTURE, "سهل"),
    make("هل الشراء حسب الاحتياج أفضل من تغيير الهاتف كل سنة؟", "نعم.", CULTURE, "سهل"),
    make("حتى 2026، هل التعلم والعمل الهجين أصبحا شائعين؟", "نعم.", CULTURE, "سهل"),
    make("هل تطوير المهارات الرقمية مهم في أغلب الوظائف الحديثة؟", "نعم.", CULTURE, "سهل"),
    make("ما الفرق بين التحول الرقمي ورقمنة المستندات فقط؟", "التحول الرقمي يشمل تغيير طريقة العمل كاملة، لا تحويل الملفات فقط.", CULTURE, "متوسط"),
    make("لماذا التفكير النقدي مهارة تقنية مهمة؟", "لأنه يساعد على التحقق وعدم الانخداع بالمحتوى المضلل.", CULTURE, "متوسط"),
    make("كيف تؤثر النفايات الإلكترونية على البيئة والمجتمع؟", "تلوث البيئة وتحتاج تدويرًا مسؤولًا لتقليل الضرر.", CULTURE, "صعب"),
    make("ما التوازن الصحي بين استخدام التقنية والحياة اليومية؟", "استخدام واعٍ بوقت محدد مع راحة ونشاط خارج الشاشة.", CULTURE, "صعب"),
]


expected_counts = {
    AI: 10,
    SOCIAL: 40,
    DEVICES: 40,
    INTERNET: 35,
    SECURITY: 35,
    APPS: 30,
    CULTURE: 10,
}

topic_buckets = {
    AI: ai_questions,
    SOCIAL: social_questions,
    DEVICES: device_questions,
    INTERNET: internet_questions,
    SECURITY: security_questions,
    APPS: apps_questions,
    CULTURE: culture_questions,
}

for topic, expected in expected_counts.items():
    actual = len(topic_buckets[topic])
    if actual != expected:
        raise ValueError(f"{topic}: expected {expected}, got {actual}")


non_ai_mixed = round_robin(
    social_questions,
    device_questions,
    internet_questions,
    security_questions,
    apps_questions,
    culture_questions,
)

if len(non_ai_mixed) != 190:
    raise ValueError(f"Expected 190 non-AI questions, got {len(non_ai_mixed)}")


# AI is intentionally sparse and distributed, not consecutive.
ai_positions = {9, 29, 49, 69, 89, 109, 129, 149, 169, 189}

final_questions: list[dict] = []
ai_index = 0
non_ai_index = 0

for idx in range(200):
    if idx in ai_positions:
        final_questions.append(ai_questions[ai_index])
        ai_index += 1
    else:
        final_questions.append(non_ai_mixed[non_ai_index])
        non_ai_index += 1


if len(final_questions) != 200:
    raise ValueError(f"Expected 200 total questions, got {len(final_questions)}")


difficulty_counts = Counter(item["difficulty"] for item in final_questions)
expected_difficulty = {"سهل": 120, "متوسط": 60, "صعب": 20}
if dict(difficulty_counts) != expected_difficulty:
    raise ValueError(f"Difficulty mismatch: {difficulty_counts}")


subtopic_counts = Counter(item["subtopic"] for item in final_questions)
if dict(subtopic_counts) != expected_counts:
    raise ValueError(f"Subtopic mismatch: {subtopic_counts}")


question_texts = [item["question"] for item in final_questions]
if len(question_texts) != len(set(question_texts)):
    dup_counter = Counter(question_texts)
    duplicates = [text for text, count in dup_counter.items() if count > 1]
    raise ValueError(f"Duplicate question text found: {duplicates[:10]}")


# Guarantee AI is not consecutive.
for i in range(1, len(final_questions)):
    if final_questions[i]["subtopic"] == AI and final_questions[i - 1]["subtopic"] == AI:
        raise ValueError("AI questions are consecutive, expected sparse distribution.")


payload = {
    "id": "technology",
    "title": "التكنولوجيا",
    "description": "200 سؤال في التكنولوجيا العامة حتى 2026. الأسئلة تشمل السوشيال ميديا، الأجهزة، الإنترنت، الأمان الرقمي، التطبيقات، والثقافة التقنية. أسئلة الذكاء الاصطناعي 10 فقط وموزعة داخل الملف.",
    "questions": final_questions,
}

OUTPUT_PATH.write_text(json.dumps(payload, ensure_ascii=False, indent=2), encoding="utf-8")

print("Generated:", OUTPUT_PATH)
print("Total:", len(final_questions))
print("Difficulty:", dict(difficulty_counts))
print("Subtopics:", dict(subtopic_counts))
